import{r as l,u as y,c as w,d as L,e as C,j as e,N as S,L as I,b as R,a as d}from"./index-8ded0fa8.js";import{I as p}from"./input-0b3a1cbb.js";import{L as g}from"./label-6aca138e.js";import{C as E,a as F,b as P,c as A,d as D,e as k}from"./card-5e5ef74a.js";import{L as q}from"./loader-2-31b54a6b.js";import{m as h}from"./motion-b0a52920.js";const W=()=>{const[n,x]=l.useState(""),[o,f]=l.useState(""),{signIn:v,authOpLoading:u,user:c,profile:r,loading:j}=y(),s=w(),m=L(),{toast:i}=C(),a=m.pathname.includes("/recruiter/login"),b=t=>{if(!t){i({title:"Login Issue",description:"Could not verify user role. Please try again or contact support.",variant:"destructive"});return}a?t.role==="recruiter"?s("/recruiter/dashboard",{replace:!0}):i({title:"Access Denied",description:"You are not authorized as a recruiter.",variant:"destructive"}):t.role==="candidate"?s("/candidate/area",{replace:!0}):t.role==="recruiter"?(i({title:"Recruiter Account",description:"Please use the recruiter login.",variant:"default"}),s("/recruiter/login",{replace:!0})):i({title:"Login Issue",description:"Could not determine user role. Please contact support.",variant:"destructive"})},N=async t=>{if(t.preventDefault(),!n||!o){i({title:"Missing Fields",description:"Please enter both email and password.",variant:"destructive"});return}await v(n,o)};if(l.useEffect(()=>{c&&r&&b(r)},[c,r,s,m.pathname]),j)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-indigo-600 to-blue-700 flex items-center justify-center p-4",children:e.jsx(q,{className:"h-16 w-16 text-white animate-spin"})});if(c&&r){const t=r.role==="candidate"?"/candidate/area":r.role==="recruiter"?"/recruiter/dashboard":"/";return e.jsx(S,{to:t,replace:!0})}return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-indigo-600 to-blue-700 flex items-center justify-center p-4",children:e.jsx(h.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs(E,{className:"w-full max-w-md bg-white/90 backdrop-blur-sm shadow-2xl",children:[e.jsxs(F,{className:"text-center",children:[e.jsx(h.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:260,damping:20},children:e.jsx(I,{className:"mx-auto h-16 w-16 text-indigo-600 mb-4"})}),e.jsx(P,{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:a?"Recruiter Login":"Candidate Login"}),e.jsx(A,{children:a?"Access your recruiter dashboard.":"Welcome back! Sign in to continue."})]}),e.jsx(D,{children:e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"email",children:"Email"}),e.jsx(p,{id:"email",type:"email",placeholder:"you@example.com",value:n,onChange:t=>x(t.target.value),required:!0,className:"bg-white/50 focus:bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"password",children:"Password"}),e.jsx(p,{id:"password",type:"password",placeholder:"••••••••",value:o,onChange:t=>f(t.target.value),required:!0,className:"bg-white/50 focus:bg-white"})]}),e.jsx(R,{type:"submit",className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 transition-all duration-300 transform hover:scale-105",disabled:u,children:u?"Signing In...":"Sign In"})]})}),e.jsxs(k,{className:"flex flex-col items-center space-y-2",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[a?"Not a recruiter? ":"Don't have an account? ",e.jsx(d,{to:"/register",className:"font-medium text-indigo-600 hover:underline",children:a?"Register as Candidate":"Sign up"})]}),a&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Candidate?"," ",e.jsx(d,{to:"/login",className:"font-medium text-indigo-600 hover:underline",children:"Login here"})]}),!a&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Recruiter?"," ",e.jsx(d,{to:"/recruiter/login",className:"font-medium text-indigo-600 hover:underline",children:"Login here"})]})]})]})})})};export{W as default};
